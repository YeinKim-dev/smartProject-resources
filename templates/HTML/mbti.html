<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>연애유형 테스트</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/CSS/mbti.css}">

    <script src="https://kit.fontawesome.com/8773b0d8e1.js" crossorigin="anonymous"></script>
    <script th:src="@{/JS/mbti.js}" defer></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
</head>

<body>
<th:block th:replace="HTML/nav :: header"></th:block>

    <div class="mbtidiv">
    <div class="container">
    <article class="start">
        <h1 class="mt-5 text-center">주파수 테스트</h1>
        <br><br><br><br><br><br><br><br>
        <button id="C" type="button" onclick='start();'>테스트 시작하기</button>
    </article>
    <article class="question">
        <div class="progress mt-5 probar">
            <div class="progress-bar" role="progressbar" style="width: calc(100/12*1%)"></div>
        </div>
        <h2 id="title" class="text-center mt-5">문제</h2>
        <input id="type" type="hidden" value="EI">
        
        <button id="A" type="button" class="">primary</button>
        <button id="B" type="button" class="">primary</button>
    </article>
    <article class="result">
            <img id="img" src="/images/heart_logo.png" alt="PR_type">
            <h2>나의 주파수 유형</h2>
            <p id="PR_type">내 결과</p><p id="user_type">매칭 유형</p>
        <h2>나와 맞는 주파수 유형</h2>
            <p id="match_type">매칭 유형</p>
            <h2>내 주파수 유형 설명</h2>
            <p id="explain">내 주파수 유형 설명</p>


        <button class="finish" onclick="document.getElementById('next').value='tournament'; $('#autoSubmit').submit();">주파수 매칭하러 가기</button>
        <button class="finish" onclick="document.getElementById('next').value='intro'; $('#autoSubmit').submit();">다른 유형 확인하기</button>
        <button class="finish" onclick="document.getElementById('next').value='mbti'; $('#autoSubmit').submit();">종료</button>

    </article>
    <input type="hidden" id="EI" value="0">
    <input type="hidden" id="SN" value="0">
    <input type="hidden" id="TF" value="0">
    <input type="hidden" id="JP" value="0">

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
        <script th:inline="javascript">
        let result = [[${userType}]];
        let retList={};
        result.forEach(function(element){
            // "userType"을 MBTI컬럼으로 바꿔주기
            retList[element["typeMbti"]]={
                userType:element["userType"],
                typeName:element['typeName'],
                typeDesc:element['typeDesc'],
                matchType:element['matchType'],

            };
        });
        </script>

        <form action="mbtiUpdate" id="autoSubmit">
            <input id="Result" name="userType" type="hidden" value=""/>
            <input id="next" name="userName" type="hidden" value=""/>
        </form>

</div>
</div>
<th:block th:replace="HTML/nav :: footer"></th:block>

</body>
</html>